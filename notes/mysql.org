* 技巧

  utf8mb4有一个使用限制，mysql版本必须是5.5以上

** 查看 MySql 版本

select version();

** 查看字符集设置
  show variables like 'collation_%'

** 查看字符集
show variables like '%char%';

** 修改数据库的字符集
use mydb
alter database mydb character set utf-8;

** 创建数据库指定数据库的字符集
create database mydb character set utf-8;


** 通过MySQL命令行修改
set character_set_client=utf8;
set character_set_connection=utf8;
set character_set_database=utf8;
set character_set_results=utf8;
set character_set_server=utf8;
set character_set_system=utf8;
set collation_connection=utf8;
set collation_database=utf8;
set collation_server=utf8;


* 升级更新 MySQL

** 文件默认位置

#+BEGIN_SRC shell

  /usr/bin                 客户端程序和脚本
  /usr/sbin                mysqld 服务器
  /var/lib/mysql           日志文件，数据库  ［重点要知道这个］
  /usr/share/doc/packages  文档
  /usr/include/mysql       包含( 头) 文件
  /usr/lib/mysql           库
  /usr/share/mysql         错误消息和字符集文件
  /usr/share/sql-bench     基准程序


#+END_SRC

** 打开关闭mysql

/etc/init.d/mysql start
/etc/init.d/mysql stop

** 下载 MySQL 5.7 最新版

wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.18-linux-glibc2.5-x86_64.tar.gz

** 解压到指定目录

tar zxvf mysql-5.7.18-linux-glibc2.5-x86_64.tar.gz -C /usr/local/

** 删除原有的软链接
unlink /usr/local/mysql

** 新建软链接指向 MySQL 5.7目录
ln -s  /usr/local/mysql-5.7.18-linux-glibc2.5-x86_64 /usr/local/mysql

** 利用MySQL 5.7包中的mysql_upgrade 升级MySQL数据中的系统表　-p 指定密码
/usr/local/mysql/bin/mysql_upgrade -s -p
